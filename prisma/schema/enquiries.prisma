model PropertyEnquiry {
  id             String      @id @default(cuid())
  tenantId       String
  landlordId     String
  propertyId     String?
  unitId         String?
  roomId         String?
  subject        String
  message        String
  status         EnquiryStatus      @default(PENDING)

  logId          String? @unique
  response       String?
  respondedAt    DateTime?
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  tenant         tenants    @relation(fields: [tenantId], references: [id], onDelete: Cascade)
  landlord       landlords  @relation(fields: [landlordId], references: [id], onDelete: Cascade)
  property       properties? @relation(fields: [propertyId], references: [id])
  unit           UnitConfiguration? @relation(fields: [unitId], references: [id])
  room           RoomDetail? @relation(fields: [roomId], references: [id])
  logs           Log?       @relation("LogToPropertyEnquiry", fields: [logId], references: [id])

  @@index([tenantId, landlordId])
  @@index([propertyId, unitId, roomId])
  @@index([status])
}

enum EnquiryStatus {
  PENDING
  RESPONDED
  CLOSED
}

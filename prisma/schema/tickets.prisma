model SupportTicket {
  id               String         @id @default(cuid())
  raisedById       String?
  assignedToId     String?
  type             TicketType     @default(SUPPORT)
  subject          String
  description      String
  priority         TicketPriority @default(PENDING)
  status           TicketStatus   @default(OPEN)
  attachments      String[]
  createdAt        DateTime       @default(now())
  updatedAt        DateTime       @updatedAt
  raisedByTenantId String?
  assignedTo       users?         @relation("TicketAssignedTo", fields: [assignedToId], references: [id])
  raisedBy         landlords?     @relation("TicketRaisedBy", fields: [raisedById], references: [id])
  raisedByTenant   tenants?       @relation("TicketTenantRaisedBy", fields: [raisedByTenantId], references: [id])

  @@index([raisedById])
  @@index([assignedToId])
}

enum TicketStatus {
  OPEN
  IN_PROGRESS
  RESOLVED
  CLOSED
}

enum TicketType {
  SUPPORT
  SUGGESTION
}

enum TicketPriority {
  HIGH
  MEDIUM
  LOW
  PENDING
}

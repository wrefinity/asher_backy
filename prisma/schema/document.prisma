model propertyDocument {
  id            String              @id @default(cuid())
  documentName  String
  documentUrl   String[]
  size          String?
  type          String?
  views         Int                 @default(0) // Track how many times document is viewed
  systemId      String? // System ID (1=Tenant Portal, 2=Vendor App, 3=Listing Website, 4=Rent Mgmt, 5=Admin)
  isPublished   Boolean             @default(true) // Publish status for library documents
  createdAt     DateTime            @default(now())
  updatedAt     DateTime            @updatedAt
  idType        IdType?
  docType       DocumentType?
  agreementId   String?
  applicationId String?
  propertyId    String?
  uploadedBy    String?
  agreement     GuarantorAgreement? @relation(fields: [agreementId], references: [id])
  application   application?        @relation(fields: [applicationId], references: [id])
  properties    properties?         @relation(fields: [propertyId], references: [id])
  users         users?              @relation(fields: [uploadedBy], references: [id])

  @@index([systemId])
  @@index([isPublished])
  @@index([views])
}

model PropertyMediaFiles {
  id                    String              @id @default(cuid())
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  url                   String
  caption               String?
  isPrimary             Boolean             @default(false)
  fileType              String?
  type                  MediaType
  imagePropertyId       String?             @map("image_property_id")
  videoPropertyId       String?             @map("video_property_id")
  virtualTourPropertyId String?             @map("virtual_tour_property_id")
  imageProperty         properties?         @relation("PropertyImages", fields: [imagePropertyId], references: [id])
  videoProperty         properties?         @relation("PropertyVideos", fields: [videoPropertyId], references: [id])
  virtualTourProperty   properties?         @relation("PropertyVirtualTours", fields: [virtualTourPropertyId], references: [id])
  RoomDetail            RoomDetail[]        @relation("RoomImages")
  UnitConfiguration     UnitConfiguration[] @relation("UnitImages")

  @@index([imagePropertyId])
  @@index([videoPropertyId])
  @@index([virtualTourPropertyId])
}

enum DocumentType {
  PAY_STUB
  TAX_RETURN
  EMPLOYMENT_LETTER
  CREDIT_REPORT
  BACKGROUND_CHECK
  LANDLORD_REFERENCE
  BANK_STATEMENT
  GUARANTOR_INCOME
  GUARANTOR_EMPLOYMENT
  REFEREE_CONFIRMATION
  ID
  ADDRESS_PROOF
  INCOME_PROOF
  ADDITIONAL
  AGREEMENT_DOC
  OTHER
  FLOOR_PLAN
  OWNERSHIP
  INSURANCE
}

enum IdType {
  PASSPORT
  DRIVING_LICENSE
}

enum MediaType {
  IMAGE
  VIDEO
  VIRTUAL_TOUR
}
